import std
import strict-test

; std already defines map!
; so we need to import using a quote here..
import 'map

(
    ; assoc should work as before
    do (test (assoc 4 ((1 . 2) (3 . 4))) nil)
    do (test (assoc 4 ((1 . 2) (4 . 3))) (4 . 3))

    ; overload assoc with
    with m (mkmap ((1 . 2) (3 . 4) (blah . 4) (y . nil) (spam . foo)))
    do (test (assoc 1 m) (1 . 2))
    do (test (assoc spam m) (spam . foo))
    do (test (assoc x m) nil)
    do (test (assoc y m) (y . nil))
)

